# =============================================================================
# WebQuery Environment Configuration
# =============================================================================
# Bu dosyayı .env olarak kopyalayın ve değerleri düzenleyin
# Örnek: cp .env.example .env

# =============================================================================
# SQL SERVER CONFIGURATION
# =============================================================================

# SQL Server Kullanıcı Bilgileri
# Admin hesabı ile bağlanmak için kullanılır (master database erişimi için)
DB_USER=sa
DB_PASSWORD=YourStrongPassword123!

# SQL Server Instance'ları (virgülle ayrılmış liste)
# Birden fazla server için: SERVER1,SERVER2,SERVER3
# Tek server için: localhost veya SERVER_NAME
SQL_SERVER_NAMES=localhost
# =============================================================================
# APPLICATION DATABASE
# =============================================================================

# Uygulama veritabanı connection string (opsiyonel - override için)
# Belirtilmezse DB_USER, DB_PASSWORD ve localhost kullanılarak otomatik oluşturulur
# APP_DATABASE_URL=mssql+aioodbc://sa:password@localhost/dba_application_db?driver=ODBC+Driver+18+for+SQL+Server&TrustServerCertificate=yes&connection timeout=30

# =============================================================================
# JWT AUTHENTICATION
# =============================================================================

# JWT Secret Key (ÖNEMLİ: Production'da mutlaka değiştirilmeli!)
# Güçlü, rastgele bir anahtar kullanın
# Örnek: openssl rand -hex 32
SECRET_KEY=your-secret-key-here-change-in-production

# JWT Algoritması
JWT_ALGORITHM=HS256

# JWT Token Geçerlilik Süreleri (dakika)
# Access token ne kadar süre geçerli olsun
ACCESS_TOKEN_EXPIRE_MINUTES=1440

# Cookie'de saklanan token ne kadar süre geçerli olsun (saniye)
COOKIE_TOKEN_EXPIRE_MINUTES=86400

# Session timeout süresi (dakika)
# Kullanıcı bu süre boyunca aktif değilse session sonlanır
SESSION_TIMEOUT_MINUTES=60

# =============================================================================
# RATE LIMITING
# =============================================================================

# Login/Register endpoint rate limit
# Format: "istek_sayısı/zaman_birimi"
# Örnek: "3/minute" = dakikada 3 istek
RATE_LIMITER=3/minute

# Query execution endpoint rate limit
QUERY_RATE_LIMITER=10/minute

# =============================================================================
# QUERY EXECUTION LIMITS
# =============================================================================

# Tek seferde çalıştırılabilecek maksimum query sayısı
MULTIPLE_QUERY_COUNT=10

# Bu sayıdan fazla satır dönerse warning loglanır
MAX_ROW_COUNT_WARNING=10000

# Response'da döndürülecek maksimum satır sayısı
# Daha fazla satır varsa kesilir ve kullanıcıya bilgi verilir
MAX_ROW_COUNT_LIMIT=1000

# Slack bildirimi almak için slack webhook  adresiniz
SLACK_URL=your-slack-webhook-url

# =============================================================================
# NOTLAR
# =============================================================================
# 
# 1. SQL Server Bağlantısı:
#    - Windows Authentication değil, SQL Authentication kullanılır
#    - DB_USER ve DB_PASSWORD ile bağlanılır
#    - ODBC Driver 18 for SQL Server gereklidir
#
# 2. Güvenlik:
#    - SECRET_KEY production'da mutlaka değiştirilmeli
#    - DB_PASSWORD güçlü bir şifre olmalı
#    - .env dosyası .gitignore'a eklenmelidir
#
# 3. Rate Limiting:
#    - Format: "sayı/birim" (örn: "5/second", "10/minute", "100/hour")
#    - Çok düşük limitler kullanıcı deneyimini olumsuz etkiler
#
# 4. Query Limits:
#    - MAX_ROW_COUNT_LIMIT: Performans için response boyutunu sınırlar
#    - MAX_ROW_COUNT_WARNING: Büyük query'leri izlemek için
#
# =============================================================================
